<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    

    <script src="https://code.jquery.com/jquery-3.5.0.min.js"
        integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <script src="main.js"></script>
</head>

<body>

    <div class="container">
        <div class="weather-side">
            <div class="weather-gradient"></div>
            <div class="date-container">
                <h2 class="date-dayname"></h2><span class="date-day"> date-day </span><i class="location-icon"
                    data-feather="map-pin"></i>
                <form action=""><input type="text"
                        style="background: transparent; border-color: aqua; color: white; font-weight: bold; text-transform:uppercase">
                    <button>search</button>
                </form>
            </div>
            <div class="weather-container"><i class="weather-icon" data-feather="sun"></i>
                <h1 class="weather-temp"></h1>
                <h3 class="weather-desc"></h3>
            </div>
        </div>
        <div class="info-side">
            <div class="today-info-container">
                <div class="today-info">
                    <div class="precipitation"> <span class="title">PRECIPITATION</span><span class="value"></span>
                        <div class="clear"></div>
                    </div>
                    <div class="humidity"> <span class="title">HUMIDITY</span><span class="value"></span>
                        <div class="clear"></div>
                    </div>
                    <div class="wind"> <span class="title">WIND</span><span class="value"></span>
                        <div class="clear"></div>
                    </div>
                </div>
            </div>
            <div class="week-container">
                <ul class="week-list">
                    <li class="active"><i class="day-icon" data-feather="sun"></i><span id="day1" class="day-name">Tue</span><span
                       id="temp1"     class="day-temp"></span></li>
                    <li><i class="day-icon" data-feather="cloud"></i><span id="day2" class="day-name">Wed</span><span
                            class="day-temp"></span></li>
                    <li><i class="day-icon" data-feather="cloud-snow"></i><span id="day3" class="day-name">Thu</span><span
                            class="day-temp"></span></li>
                    <li><i class="day-icon" data-feather="cloud-rain"></i><span id="day4" class="day-name">Fry</span><span
                            class="day-temp"></span></li>
                    <div class="clear"></div>
                </ul>
            </div>
            <div class="location-container">
                <button class="location-button"> <i data-feather="map-pin"></i><span>Change location</span></button>
            </div>
        </div>
    </div>



</body>
    <script>
        var d = new Date()
var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
var months =['Jan','Feb','Mar','Apr','May','Juny','July','Aug','Sep','Oct','Nov','Dec']
var dayshorts=['Sun','Mon','Tue','Wed','Thu','Fry','Sat'];

day=days[d.getDay()]
dayshort=dayshorts[d.getDay()]
month=months[d.getMonth()]


$(document).ready(function () {
    $('.date-dayname').text(day)


    $('.date-day').text(d.getDate()+' '+month+' '+d.getFullYear())
    $('#day1').text(dayshorts[d.getDay()%7])
    $('#day2').text(dayshorts[(d.getDay()+1)%7])
    $('#day3').text(dayshorts[(d.getDay()+2)%7])
    $('#day4').text(dayshorts[(d.getDay()+3)%7])



    $('form').submit(function (event){
        event.preventDefault();
        var input_val=$('input[type="text"]').val();
        weather_url=`https://api.openweathermap.org/data/2.5/weather?q=${input_val}&appid=5b9492dc8edd623d59a60815012a3d8f`;
        
        $.ajax({
            url: weather_url,
            method: 'GET',
            success: function (response) {
                var weather_main=response.weather[0].main;
                var main_temp=response.main.temp;
                main_temp-=273;
                main_temp=parseInt(main_temp)
                var main_humidity=response.main.humidity;
                var wind_speed=response.wind.speed;
                var wind_deg=response.wind.deg;
                
                
                

                $('.weather-desc').text(weather_main);
                $('.weather-temp').text(main_temp+'°C');
                $('.precipitation .value').text(wind_deg+" %");
                $('.humidity .value').text(main_humidity+' %');
                $('.wind .value').text(wind_speed+' km/h')
                $('#temp1').text(main_temp+'°C')
            },
            error: function (error_response) {
                alert('olke adi yanlisdir')
            }
        })
    })
});
    </script>
</html>
